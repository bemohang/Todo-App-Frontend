########## Add this part before the - name: Build And Deploy inside the build_and_deploy_job, and make sure the indentation is correct

- name: Validate frontend build env
        run: |
          if [ -z "${VITE_API_URL}" ]; then
            echo "VITE_API_URL is missing. Set GitHub Repository Variables -> VITE_API_URL (or secret) for this workflow."
            exit 1
          fi
          echo "VITE_API_URL is set for build."
        env:
          VITE_API_URL: ${{ vars.VITE_API_URL || secrets.VITE_API_URL }}


############ Add this part below uses:Azure:static-web-apps-deploy@v1

        env:
          VITE_API_URL: ${{ vars.VITE_API_URL || secrets.VITE_API_URL }}
